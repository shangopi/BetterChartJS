{"ast":null,"code":"const ChordLogic = data => {\n  const label = ['Source', 'Target', 'Volume'];\n  const data1 = data;\n  const space = 10;\n  let total = 0;\n  var in_out = {};\n  var out = {};\n\n  for (var i = 0; i < data1.length; i++) {\n    if (data1[i][2] != '') {\n      if (!(data1[i][0] in in_out)) {\n        in_out[data1[i][0]] = 0;\n      }\n\n      if (!(data1[i][0] in out)) {\n        out[data1[i][0]] = [0];\n      }\n\n      if (!(data1[i][1] in in_out)) {\n        in_out[data1[i][1]] = 0;\n      }\n\n      in_out[data1[i][0]] += data1[i][2];\n      in_out[data1[i][1]] += data1[i][2];\n      out[data1[i][0]].push([data1[i][1], data1[i][2]]);\n      total += data1[i][2] * 2;\n    }\n  }\n\n  let sum = -Math.PI / 2;\n  let oldsum = -Math.PI / 2;\n  let angle = 0;\n  let coordinate = [];\n\n  for (var key in in_out) {\n    oldsum = sum;\n    sum = oldsum + 2 * Math.PI * space / (100 * Object.keys(in_out).length);\n    sum = oldsum + 2 * Math.PI * in_out[key] * (100 - space) / (100 * total);\n    angle = (oldsum + sum) / 2;\n    coordinate = [550 + 350 * Math.sin(angle + Math.PI / 2), 350 - 300 * Math.cos(angle + Math.PI / 2)];\n    console.log(out[key]); //out[key][1]= oldsum;\n  }\n\n  return out;\n};\n\n_c = ChordLogic;\nexport default ChordLogic;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChordLogic\");","map":{"version":3,"names":["ChordLogic","data","label","data1","space","total","in_out","out","i","length","push","sum","Math","PI","oldsum","angle","coordinate","key","Object","keys","sin","cos","console","log"],"sources":["C:/Users/shang/gitrepo/BetterChartJS/client/src/components/Chart_Components/Logic/ChordLogic.js"],"sourcesContent":["\r\nconst ChordLogic = (data) =>{\r\n\r\n    const label=['Source','Target','Volume'];\r\n    const data1= data;\r\n    const space = 10;\r\n    let total =0;\r\n    var in_out = {};\r\n    var out ={};\r\n     \r\n\r\n    for(var i=0;i<data1.length;i++){\r\n        if(data1[i][2]!=''){\r\n            if(!(data1[i][0] in in_out)){\r\n                in_out[data1[i][0]] =0;\r\n            }\r\n            if(!(data1[i][0] in out)){\r\n                out[data1[i][0]] =[0];\r\n            }\r\n            if(!(data1[i][1] in in_out)){\r\n                in_out[data1[i][1]] =0;\r\n            }\r\n            \r\n            in_out[data1[i][0]] += data1[i][2];\r\n            in_out[data1[i][1]] += data1[i][2];\r\n            out[data1[i][0]].push([data1[i][1],data1[i][2]])\r\n            total += data1[i][2] *2\r\n        }\r\n      \r\n    }\r\n\r\n    let sum=-Math.PI/2;\r\n    let oldsum=-Math.PI/2;\r\n    let angle = 0;\r\n    let coordinate = [];\r\n\r\n    for(var key in in_out) {\r\n        oldsum = sum;\r\n        sum = oldsum + 2*Math.PI*space/(100*(Object.keys(in_out).length))\r\n        sum = oldsum + 2*Math.PI*in_out[key]*(100-space)/(100*total);\r\n        angle = (oldsum + sum )/2;\r\n        coordinate = [550+350*Math.sin(angle+Math.PI/2),350-300*Math.cos(angle+Math.PI/2)];\r\n        console.log(out[key]);\r\n        //out[key][1]= oldsum;\r\n       \r\n       \r\n\r\n        \r\n\r\n\r\n    }\r\n    return out\r\n    \r\n\r\n}\r\n\r\nexport default ChordLogic"],"mappings":"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"},"metadata":{},"sourceType":"module"}